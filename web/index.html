<!DOCTYPE html>
<html>
<head>
  <base href="$FLUTTER_BASE_HREF">

  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="A new Flutter project.">

  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="sincro_app_flutter">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">
  <link rel="icon" type="image/png" href="favicon.png"/>

  <title>sincro_app_flutter</title>
  <link rel="manifest" href="manifest.json">

  <!-- 
    ========================================
    CONFIGURAÃ‡ÃƒO APP CHECK - DEBUG MODE
    ========================================
    Ativa debug token APENAS em localhost.
    Em PRODUÃ‡ÃƒO, o Firebase SDK carrega o reCAPTCHA automaticamente.
    
    IMPORTANTE: NÃƒO carregue o script reCAPTCHA manualmente!
    O Firebase App Check SDK faz isso internamente quando vocÃª
    passa a site key para ReCaptchaV3Provider().
  -->
  <script>
    // Detecta se estÃ¡ em localhost (desenvolvimento)
    const isLocalhost = Boolean(
      window.location.hostname === 'localhost' ||
      window.location.hostname === '[::1]' ||
      window.location.hostname === '127.0.0.1' ||
      window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)
    );

    if (isLocalhost) {
      // ===== MODO DEBUG (localhost) =====
      self.FIREBASE_APPCHECK_DEBUG_TOKEN = true;
      console.log('ðŸ› ï¸ Modo DEBUG: App Check debug token ativado automaticamente');
      console.log('ðŸ“ Procure no console pelo token gerado e registre no Firebase Console > App Check > Gerenciar tokens de depuraÃ§Ã£o');
    } else {
      // ===== MODO PRODUÃ‡ÃƒO =====
      console.log('ðŸš€ Modo PRODUÃ‡ÃƒO: Firebase SDK carregarÃ¡ reCAPTCHA v3 automaticamente');
      console.log('ðŸ“Œ Site Key serÃ¡ fornecida via ReCaptchaV3Provider no cÃ³digo Dart');
    }
  </script>
  
  <!-- Loader e estilos base para evitar tela branca durante boot do Flutter -->
  <style>
    html, body { height: 100%; background-color: #111827; }
    #app-loader {
      position: fixed; inset: 0; display: flex; flex-direction: column;
      align-items: center; justify-content: center; background: #111827;
      color: #D1D5DB; z-index: 9999; font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;
    }
    #app-loader .spinner {
      width: 48px; height: 48px; border: 4px solid rgba(124, 58, 237, 0.25);
      border-top-color: #7C3AED; border-radius: 50%; animation: appSpin 1s linear infinite;
    }
    #app-loader .label { margin-top: 12px; font-size: 14px; opacity: .9; }
    @keyframes appSpin { to { transform: rotate(360deg); } }
  </style>
</head>
<body>
  <!-- Overlay exibido atÃ© o primeiro frame do Flutter ser renderizado -->
  <div id="app-loader" role="status" aria-live="polite">
    <div class="spinner" aria-hidden="true"></div>
    <div class="label">Carregando...</div>
  </div>
  
  <script>
    // Esconde o loader assim que o Flutter renderizar seu primeiro frame
    window.addEventListener('flutter-first-frame', function () {
      var el = document.getElementById('app-loader');
      if (el) { el.style.display = 'none'; }
    });
  </script>
  <script src="flutter_bootstrap.js" async></script>
</body>
</html>