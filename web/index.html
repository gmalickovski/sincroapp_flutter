<!DOCTYPE html>
<html>
<head>
  <base href="$FLUTTER_BASE_HREF">

  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="A new Flutter project.">

  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="sincro_app_flutter">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">
  <link rel="icon" type="image/png" href="favicon.png"/>

  <title>sincro_app_flutter</title>
  <link rel="manifest" href="manifest.json">

  <!-- 
    ========================================
    DETEC√á√ÉO AUTOM√ÅTICA DE AMBIENTE
    ========================================
    Este script detecta se est√° rodando em localhost
    e ativa o debug token APENAS em desenvolvimento
  -->
  <script>
    // Detecta se est√° em localhost (desenvolvimento)
    const isLocalhost = Boolean(
      window.location.hostname === 'localhost' ||
      window.location.hostname === '[::1]' ||
      window.location.hostname === '127.0.0.1' ||
      window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)
    );

    // ===== MODO DEBUG (localhost) =====
    if (isLocalhost) {
      // Ativa o debug token automaticamente
      self.FIREBASE_APPCHECK_DEBUG_TOKEN = true;
      console.log('üõ†Ô∏è Modo DEBUG: App Check debug token ativado');
      console.log('üìù Procure no console pelo token gerado e registre no Firebase Console');
    }
  </script>

  <!-- 
    ========================================
    RECAPTCHA V3 PARA PRODU√á√ÉO
    ========================================
    Carrega ANTES do Flutter para garantir disponibilidade
  -->
  <script>
    const isLocalhost = Boolean(
      window.location.hostname === 'localhost' ||
      window.location.hostname === '[::1]' ||
      window.location.hostname === '127.0.0.1' ||
      window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)
    );

    if (!isLocalhost) {
      console.log('üöÄ Modo PRODU√á√ÉO: Carregando reCAPTCHA v3...');
      // Carrega reCAPTCHA v3 de forma S√çNCRONA antes do Flutter
      document.write('<script src="https://www.google.com/recaptcha/api.js?render=6LeC__ArAAAAAJUbYkba086MP-cCJBolbjLcm_uU"><\/script>');
      console.log('‚úÖ reCAPTCHA v3 carregado');
    }
  </script>
</head>
<body>
  <script src="flutter_bootstrap.js" async></script>
</body>
</html>